<%= render "navbar" %>

<div class="container-fluid">
  <div class="row">
    <nav class="col-sm-3 col-md-2 hidden-xs-down bg-faded sidebar">
      <ul class="nav nav-pills flex-column">
        <% @dashboard.campaigns.each do |name| %>
          <li class="nav-item">
            <a class="nav-link" href="#"><%= name %></a>
          </li>
        <% end %>
      </ul>
    </nav>

    <main class="col-sm-9 offset-sm-3 col-md-10 offset-md-2 pt-3">
      <h1>Dashboard Campaigns</h1>

      <section class="row text-center placeholders">

        <% @dashboard.campaigns.each do |name| %>
          <div class="col-6 col-sm-3 placeholder">
            <img src="data:image/gif;base64,R0lGODlhAQABAIABAAJ12AAAACwAAAAAAQABAAACAkQBADs=" width="100" height="100" class="img-fluid rounded-circle" alt="Generic placeholder thumbnail">
            <h4><%= name %></h4>
          </div>
        <% end %>
      </section>

      <h2>Votes</h2>
      <div class="table-responsive">
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th><%= sort_link "campaign" %></th>
              <th><%= sort_link "validity" %></th>
              <th><%= sort_link "choice" %></th>
            </tr>
          </thead>
          <tbody>
            <% @dashboard.votes.each do |vote| %>
              <tr>
                <td><%= vote.campaign %></td>
                <td><%= vote.validity %></td>
                <td><%= vote.choice %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
      <%= will_paginate @dashboard.votes, class: 'custom_pagination' %>
    </main>
  </div>
</div>